"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[470],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),d=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=d(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=d(n),m=o,f=c["".concat(s,".").concat(m)]||c[m]||p[m]||i;return n?r.createElement(f,a(a({ref:t},u),{},{components:n})):r.createElement(f,a({ref:t},u))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,a[1]=l;for(var d=2;d<i;d++)a[d]=n[d];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},92381:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var r=n(87462),o=(n(67294),n(3905));const i={sidebar_position:3},a="Modules",l={unversionedId:"Modules",id:"Modules",title:"Modules",description:"Modules are server side module scripts that act like Roblox services, each module is a global singleton.",source:"@site/docs/Modules.md",sourceDirName:".",slug:"/Modules",permalink:"/axis/docs/Modules",draft:!1,editUrl:"https://github.com/Sebastian2852/axis/edit/master/docs/Modules.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"defaultSidebar",previous:{title:"Getting Started",permalink:"/axis/docs/GettingStarted"},next:{title:"Controllers",permalink:"/axis/docs/Controllers"}},s={},d=[{value:"Writing Modules",id:"writing-modules",level:2},{value:"Adding modules to Axis",id:"adding-modules-to-axis",level:2},{value:"Client-Server Communication",id:"client-server-communication",level:2}],u={toc:d},c="wrapper";function p(e){let{components:t,...n}=e;return(0,o.kt)(c,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"modules"},"Modules"),(0,o.kt)("p",null,"Modules are server side module scripts that act like Roblox services, each module is a global singleton."),(0,o.kt)("h2",{id:"writing-modules"},"Writing Modules"),(0,o.kt)("p",null,"Modules have two key functions that are automatically called by Axis: ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"Init"))," and ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"Start")),". This separation ensures that dependencies between modules are handled correctly."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"Init")),": This is where you initialize objects and set up any necessary preconditions. For example, if your module relies on certain events being created before other modules can use its functionality, those events should be created here.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"Start")),": This is where you retrieve and interact with other modules or perform any actions that depend on all modules being initialized."))),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local MyModule = Axis.CreateModule {\n    Name = "MyModule";\n    Client = {};\n}\n\nfunction MyModule:Init()\n    print("My module Init")\nend\n\nfunction MyModule:Start()\n    print("My module Start")\nend\n\nreturn MyModule\n')),(0,o.kt)("p",null,"Make sure to ",(0,o.kt)("strong",{parentName:"p"},"optimize the ",(0,o.kt)("inlineCode",{parentName:"strong"},"Init")," function")," to run as quickly as possible. Anything that doesn\u2019t need to happen before other modules can use your module should be deferred to the ",(0,o.kt)("inlineCode",{parentName:"p"},"Start")," function. "),(0,o.kt)("p",null,"Since all ",(0,o.kt)("inlineCode",{parentName:"p"},"Init")," functions need to complete before any ",(0,o.kt)("inlineCode",{parentName:"p"},"Start")," functions are called, ",(0,o.kt)("strong",{parentName:"p"},"avoid using blocking or yielding operations")," in ",(0,o.kt)("inlineCode",{parentName:"p"},"Init"),", as they can significantly delay the startup process."),(0,o.kt)("admonition",{type:"danger"},(0,o.kt)("p",{parentName:"admonition"},'The module\'s :Start() and :Init() functions are "removed" once Axis is booted. So calling the ',(0,o.kt)("inlineCode",{parentName:"p"},"Start")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"Init")," functions will error!")),(0,o.kt)("h2",{id:"adding-modules-to-axis"},"Adding modules to Axis"),(0,o.kt)("p",null,"Now that we have a simple test module we can add it to Axis. Ideally you should have 1 folder next to your startup script containing all the Module module scripts. Once this is true you can add this above the ",(0,o.kt)("inlineCode",{parentName:"p"},"Axis:Boot")," function call:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},"Axis:AddModulesDeep(script.Parent.Modules) -- Axis:AddModulesDeep(Path to modules folder)\n")),(0,o.kt)("p",null,"For other options of adding modules to Axis see the API ",(0,o.kt)("a",{parentName:"p",href:"../api/Axis#AddModule"},"here"),"."),(0,o.kt)("h2",{id:"client-server-communication"},"Client-Server Communication"),(0,o.kt)("p",null,"Axis handles client / server communications in the same way as Knit. I recommend reading ",(0,o.kt)("a",{parentName:"p",href:"https://sleitnick.github.io/Knit/docs/services#client-communication"},"Knit's documentation")," to learn about client / server communication."))}p.isMDXComponent=!0}}]);